"use strict";(self.webpackChunkfreshcartapp=self.webpackChunkfreshcartapp||[]).push([[125],{9125:(t,s,e)=>{e.r(s),e.d(s,{default:()=>u});var a=e(5043),c=e(5169),n=e(1591),r=e(3401),o=e(3762),l=e(9571),i=e(5475);const m={"main-color":"Cart_main-color__IW-eA","bg-main":"Cart_bg-main__g1tdi",sectionBg:"Cart_sectionBg__QtOH6","btn-main":"Cart_btn-main__kn6MX",cart:"Cart_cart__UogGm",btnOutlineMain:"Cart_btnOutlineMain__NyIOZ"};var d=e(579);function u(){const{getCart:t,numOfCartItems:s,removeFromCart:e,clearCart:u,updateProductQuantity:x}=(0,a.useContext)(c.M),[h,p]=(0,a.useState)(null),[f,b]=(0,a.useState)(!1);async function j(t){const s=await e(t);"success"===s.status?(r.oR.success("Product removed from cart successfully"),p(s)):r.oR.error("Sorry, Can't remove product from cart")}async function C(t,s){const e=await x(t,s);"success"===e.status?(r.oR.success("Product quantity updated successfully"),p(e)):r.oR.error("Sorry, Can't update product quantity")}return(0,a.useEffect)((()=>{!async function(){b(!0);const s=await t();"success"===(null===s||void 0===s?void 0:s.status)?(p(s),b(!1)):(p(null),b(!1))}()}),[]),(0,d.jsxs)(d.Fragment,{children:[(0,d.jsxs)(n.m,{children:[(0,d.jsx)("meta",{charSet:"utf-8"}),(0,d.jsx)("title",{children:"My Cart"}),(0,d.jsx)("meta",{name:"description",content:"FreshCart App - My Cart"}),(0,d.jsx)("meta",{name:"keywords",content:"Fresh-Cart-App-My-Cart"})]}),(0,d.jsxs)("section",{className:"".concat(m.cart," min-vh-100 pt-5"),children:[f&&(0,d.jsx)(o.A,{}),h?(0,d.jsxs)("div",{className:"container-md my-5 bg-light rounded-3 shadow px-4 px-lg-5 py-5 d-flex flex-column",children:[(0,d.jsxs)("div",{className:"border-bottom mb-3 d-flex flex-column justify-content-center",children:[(0,d.jsx)("h2",{children:"Shopping Cart:"}),(0,d.jsxs)("div",{className:"d-flex justify-content-between align-items-center",children:[(0,d.jsxs)("h5",{className:"mt-3 mb-4",children:["Total Cart Price:"," ",(0,d.jsxs)("span",{className:"main-color fw-bold",children:[h.data.totalCartPrice," EGP"]})]}),(0,d.jsxs)("h5",{className:"mt-3 mb-4",children:["Total Cart Items:"," ",(0,d.jsx)("span",{className:"main-color fw-bold",children:s})]})]}),(0,d.jsx)("button",{onClick:async function(){const t=await u();p(t),"success"===t.message?(r.oR.success("All your products removed from cart successfully"),p(null)):r.oR.error("Sorry, Can't remove products from cart")},className:"btn btn-outline-danger rounded-3 w-25 mb-4",children:"Clear Cart"})]}),h.data.products.map((t=>(0,d.jsxs)("div",{className:"row border-bottom pb-3 mt-3 d-flex justify-content-center align-items-center",children:[(0,d.jsx)("div",{className:"col-lg-2 col-md-3 col-sm-4",children:(0,d.jsx)("figure",{className:"mb-0",children:(0,d.jsx)("img",{src:t.product.imageCover,alt:t.product.title,className:"img-fluid rounded-3"})})}),(0,d.jsxs)("div",{className:"col-lg-8 col-md-7 col-sm-6 ps-3 mt-3 mt-sm-0",children:[(0,d.jsx)("h4",{className:"fw-semibold text-truncate",children:t.product.title}),(0,d.jsxs)("h5",{className:"main-color fw-semibold",children:[t.price," EGP"]}),(0,d.jsxs)("button",{className:"btn p-0 fw-semibold text-danger",onClick:()=>j(t.product.id),children:[(0,d.jsx)("i",{className:"fa fa-trash-can me-2"}),"remove"]})]}),(0,d.jsxs)("div",{className:"col-2 d-flex justify-content-center align-items-center mt-3 mt-sm-0",children:[(0,d.jsx)("button",{onClick:()=>{C(t.product.id,t.count-1),1===t.count&&j(t.product.id)},className:"".concat(m.btnOutlineMain," btn px-3"),children:(0,d.jsx)("i",{className:"fa fa-minus"})}),(0,d.jsx)("h5",{className:"mx-3 mb-0",children:t.count}),(0,d.jsx)("button",{onClick:()=>C(t.product.id,t.count+1),className:"".concat(m.btnOutlineMain," btn px-3"),children:(0,d.jsx)("i",{className:"fa fa-plus"})})]})]},t.product.id))),(0,d.jsx)(i.N_,{to:"/checkout",id:"btn-main",className:"btn btn-main rounded-3 mt-3 w-25 align-self-end",children:"Checkout"})]}):(0,d.jsxs)("div",{className:"text-center pt-5",children:[(0,d.jsx)("figure",{className:"mt-4",children:(0,d.jsx)("img",{src:l.A,className:"w-50",alt:"Error"})}),(0,d.jsx)("h3",{className:"main-color",children:"Cart is Empty, Please Add Some Products"}),(0,d.jsx)(i.N_,{to:"/products",id:"btn-main",className:"btn mt-3 py-2 w-25 rounded-3",children:"Shop Now"})]})]})]})}}}]);
//# sourceMappingURL=125.ba5e8f15.chunk.js.map