{"version":3,"file":"static/js/83.afaa43ac.chunk.js","mappings":"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","sources":["webpack://freshcartapp/./src/Components/Products/Products.module.scss?95b5","Components/Products/Products.jsx"],"sourcesContent":["// extracted by mini-css-extract-plugin\nexport default {\"main-color\":\"Products_main-color__I2ZPR\",\"bg-main\":\"Products_bg-main__GgISV\",\"sectionBg\":\"Products_sectionBg__+o7-d\",\"btn-main\":\"Products_btn-main__etDh9\",\"products\":\"Products_products__qLXmt\",\"hover\":\"Products_hover__lOGdT\",\"hoverImg\":\"Products_hoverImg__63jYa\",\"heart\":\"Products_heart__INSLx\",\"cart\":\"Products_cart__74OSO\"};","import React, { useContext } from \"react\";\r\nimport styles from \"./Products.module.scss\";\r\nimport { Link } from \"react-router-dom\";\r\nimport axios from \"axios\";\r\nimport { useQuery } from \"react-query\";\r\nimport Loader from \"../Loader/Loader\";\r\nimport ErrorImg from \"../../assets/images/NoData.svg\";\r\nimport { Helmet } from \"react-helmet\";\r\nimport { CartContext } from \"../../context/CartContext\";\r\nimport { toast } from \"react-toastify\";\r\nimport { WishListContext } from \"../../context/WishListContext\";\r\n\r\nexport default function Products() {\r\n  const { addToCart } = useContext(CartContext);\r\n  const { addToWishList } = useContext(WishListContext);\r\n\r\n  async function addToCartHandler(productId) {\r\n    let res = await addToCart(productId);\r\n\r\n    if (res.status === \"success\") {\r\n      toast.success(res.message);\r\n    } else {\r\n      toast.error(\"Sorry, Failed to add product to cart\");\r\n    }\r\n  }\r\n\r\n  async function addToWishListHandler(productId) {\r\n    let res = await addToWishList(productId);\r\n\r\n    if (res.status === \"success\") {\r\n      toast.success(res.message);\r\n    } else {\r\n      toast.error(\"Sorry, Failed to add product to wish list\");\r\n    }\r\n  }\r\n\r\n  const url = \"https://ecommerce.routemisr.com/api/v1/\";\r\n\r\n  async function gitAllProducts() {\r\n    return await axios.get(`${url}products`);\r\n  }\r\n\r\n  let { data, isLoading, isError, error, refetch } = useQuery(\r\n    \"gitAllProducts\",\r\n    gitAllProducts,\r\n    {\r\n      refetchOnWindowFocus: false,\r\n    }\r\n  );\r\n\r\n  return (\r\n    <>\r\n      <Helmet>\r\n        <meta charSet=\"utf-8\" />\r\n        <title>Featured Products</title>\r\n        <meta name=\"description\" content=\"FreshCart App - Products\" />\r\n        <meta name=\"keywords\" content=\"Fresh-Cart-App-Products\" />\r\n      </Helmet>\r\n\r\n      <section\r\n        className={`${styles.products} min-vh-100 pt-5 position-relative`}\r\n      >\r\n        {isLoading && <Loader />}\r\n\r\n        {isError && (\r\n          <div className=\"text-center\">\r\n            <figure>\r\n              <img src={ErrorImg} className=\"w-50\" alt=\"Error\" />\r\n            </figure>\r\n            <h3 className=\"text-danger\">{error}</h3>\r\n            <div className=\"d-flex justify-content-center align-items-center gap-3\">\r\n              <button\r\n                onClick={refetch}\r\n                id=\"btn-main\"\r\n                className=\"btn mt-3 py-2 w-25 rounded-3\"\r\n              >\r\n                Try Again\r\n              </button>\r\n              <Link\r\n                to=\"/\"\r\n                id=\"btn-main\"\r\n                className=\"btn mt-3 py-2 w-25 rounded-3\"\r\n              >\r\n                Back To Home\r\n              </Link>\r\n            </div>\r\n          </div>\r\n        )}\r\n\r\n        {data?.data.data && (\r\n          <div className=\"container-lg my-5\">\r\n            <h2 className=\"main-color fw-bold\">Featured Products</h2>\r\n\r\n            <div className=\"row g-3 mt-3\">\r\n              {data.data.data.map((product) => (\r\n                <div className=\"col-sm-6 col-md-4 col-xl-3\" key={product.id}>\r\n                  <div\r\n                    className={`${styles.hover} card overflow-hidden rounded-3`}\r\n                  >\r\n                    {/* <span className=\"badge bg-danger position-absolute\">Sale</span> */}\r\n\r\n                    <label className={styles.heart}>\r\n                      <input\r\n                        type=\"checkbox\"\r\n                        onChange={() => addToWishListHandler(product.id)}\r\n                      />\r\n                      <i className=\"fa fa-heart translate-middle-y mt-2\"></i>\r\n                    </label>\r\n\r\n                    <Link\r\n                      to={`/productDetails/${product.id}`}\r\n                      className=\"text-decoration-none\"\r\n                    >\r\n                      <figure className=\"mb-0 overflow-hidden\">\r\n                        <img\r\n                          src={product.imageCover}\r\n                          className={`${styles.hoverImg} w-100`}\r\n                          alt={product.title}\r\n                        />\r\n                      </figure>\r\n\r\n                      <div className=\"card-body\">\r\n                        <h5 className=\" main-color fs-6 mb-1\">\r\n                          {product.category.name}\r\n                        </h5>\r\n                        <h5 className=\" main-color fs-6 mb-1\">\r\n                          {product.brand.name}\r\n                        </h5>\r\n                        <h5 className=\"card-title text-truncate fw-bold text-dark\">\r\n                          {product.title}\r\n                        </h5>\r\n\r\n                        <div className=\"d-flex justify-content-between align-items-center\">\r\n                          <h5 className=\"card-text fw-bold main-color mb-0\">\r\n                            {product.price} EGP\r\n                          </h5>\r\n                          <div className=\"rating d-flex align-items-baseline\">\r\n                            <i className=\"fa fa-star text-warning\"></i>\r\n                            <p className=\"ms-1 text-dark mb-0 fw-medium\">\r\n                              {product.ratingsAverage}\r\n                            </p>\r\n                          </div>\r\n                        </div>\r\n                      </div>\r\n                    </Link>\r\n\r\n                    <div className=\"px-3 pb-3\">\r\n                      <button\r\n                        onClick={() => addToCartHandler(product.id)}\r\n                        id=\"btn-main\"\r\n                        className={`btn btn-main rounded-3 w-100 ${styles.cart}`}\r\n                      >\r\n                        <i className={`fa fa-shopping-cart me-2`}></i>Add to\r\n                        cart\r\n                      </button>\r\n                    </div>\r\n                  </div>\r\n                </div>\r\n              ))}\r\n            </div>\r\n          </div>\r\n        )}\r\n      </section>\r\n    </>\r\n  );\r\n}\r\n"],"names":["Products","addToCart","useContext","CartContext","addToWishList","WishListContext","data","isLoading","isError","error","refetch","useQuery","async","axios","get","concat","refetchOnWindowFocus","_jsxs","_Fragment","children","Helmet","_jsx","charSet","name","content","className","styles","products","Loader","src","ErrorImg","alt","onClick","id","Link","to","map","product","hover","heart","type","onChange","productId","res","status","toast","success","message","addToWishListHandler","imageCover","hoverImg","title","category","brand","price","ratingsAverage","addToCartHandler","cart"],"sourceRoot":""}