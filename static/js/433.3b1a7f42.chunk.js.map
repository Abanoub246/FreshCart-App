{"version":3,"file":"static/js/433.3b1a7f42.chunk.js","mappings":"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","sources":["webpack://freshcartapp/./src/Components/ProductDetails/ProductDetails.module.scss?612b","Components/ProductDetails/ProductDetails.jsx"],"sourcesContent":["// extracted by mini-css-extract-plugin\nexport default {\"main-color\":\"ProductDetails_main-color__gyGLn\",\"bg-main\":\"ProductDetails_bg-main__M5QsA\",\"sectionBg\":\"ProductDetails_sectionBg__zQ1WH\",\"btn-main\":\"ProductDetails_btn-main__Hd-e9\",\"product\":\"ProductDetails_product__EmUKS\",\"cart\":\"ProductDetails_cart__7ZjtL\",\"heart\":\"ProductDetails_heart__Zu86r\"};","import React, { useContext } from \"react\";\r\nimport styles from \"./ProductDetails.module.scss\";\r\nimport axios from \"axios\";\r\nimport { useQuery } from \"react-query\";\r\nimport Loader from \"../Loader/Loader\";\r\nimport { Link, useParams } from \"react-router-dom\";\r\nimport ErrorImg from \"../../assets/images/NoData.svg\";\r\nimport Slider from \"react-slick\";\r\nimport { Helmet } from \"react-helmet\";\r\nimport { CartContext } from \"../../context/CartContext\";\r\nimport { toast } from \"react-toastify\";\r\nimport { WishListContext } from \"../../context/WishListContext\";\r\n\r\nexport default function ProductDetails() {\r\n  const { addToCart } = useContext(CartContext);\r\n  const { addToWishList } = useContext(WishListContext);\r\n\r\n  async function addToCartHandler(productId) {\r\n    let res = await addToCart(productId);\r\n\r\n    if (res.status === \"success\") {\r\n      toast.success(res.message);\r\n    } else {\r\n      toast.error(\"Sorry, Failed to add product to cart\");\r\n    }\r\n  }\r\n\r\n  async function addToWishListHandler(productId) {\r\n    let res = await addToWishList(productId);\r\n\r\n    if (res.status === \"success\") {\r\n      toast.success(res.message);\r\n    } else {\r\n      toast.error(\"Sorry, Failed to add product to wish list\");\r\n    }\r\n  }\r\n\r\n  const url = \"https://ecommerce.routemisr.com/api/v1/\";\r\n\r\n  let { id } = useParams();\r\n\r\n  async function gitProductDetails() {\r\n    return await axios.get(`${url}products/${id}`);\r\n  }\r\n\r\n  let { data, isLoading, isError, error, refetch } = useQuery(\r\n    \"gitProductDetails\",\r\n    gitProductDetails,\r\n    {\r\n      refetchOnWindowFocus: false,\r\n    }\r\n  );\r\n\r\n  const settings = {\r\n    dots: true,\r\n    infinite: true,\r\n    speed: 300,\r\n    slidesToShow: 1,\r\n    slidesToScroll: 1,\r\n    arrows: false,\r\n    autoplay: true,\r\n    autoplaySpeed: 5000,\r\n    cssEase: \"linear\",\r\n    adaptiveHeight: true,\r\n  };\r\n\r\n  return (\r\n    <>\r\n      {isLoading && <Loader />}\r\n\r\n      {isError && (\r\n        <div className=\"text-center\">\r\n          <figure>\r\n            <img src={ErrorImg} className=\"w-50\" alt=\"Error\" />\r\n          </figure>\r\n          <h3 className=\"text-danger\">{error}</h3>\r\n          <div className=\"d-flex justify-content-center align-items-center gap-3\">\r\n            <button\r\n              onClick={refetch}\r\n              id=\"btn-main\"\r\n              className=\"btn mt-3 py-2 w-25 rounded-3\"\r\n            >\r\n              Try Again\r\n            </button>\r\n            <Link to=\"/\" id=\"btn-main\" className=\"btn mt-3 py-2 w-25 rounded-3\">\r\n              Back To Home\r\n            </Link>\r\n          </div>\r\n        </div>\r\n      )}\r\n\r\n      <section\r\n        className={`${styles.product} min-vh-100 pt-5 position-relative d-flex justify-content-center align-items-center px-3`}\r\n      >\r\n        {data?.data.data && (\r\n          <div className=\"container-xxl bg-body my-5 rounded-4 p-4 py-md-5 border shadow position-relative\">\r\n            <Helmet>\r\n              <meta charSet=\"utf-8\" />\r\n              <title>{data.data.data.title}</title>\r\n              <meta name=\"keywords\" content={data.data.data.slug} />\r\n              <meta\r\n                name=\"description\"\r\n                content=\"FreshCart App - Product Details\"\r\n              />\r\n            </Helmet>\r\n\r\n            <div className=\"row align-items-center\">\r\n              <div className=\"col-lg-4 col-md-6 col-sm-12\">\r\n                <Slider {...settings} className=\"mb-4 mb-md-0\">\r\n                  {data.data.data.images.map((img) => (\r\n                    <figure className=\"text-center mb-0\" key={img}>\r\n                      <img\r\n                        src={img}\r\n                        alt={data.data.data.title}\r\n                        className=\"img-fluid w-100 rounded-3\"\r\n                      />\r\n                    </figure>\r\n                  ))}\r\n                </Slider>\r\n              </div>\r\n\r\n              <div className=\"col-lg-8 col-md-6 col-sm-12 mt-sm-4 mt-md-0\">\r\n                <label className={styles.heart} htmlFor=\"heart\">\r\n                  <input\r\n                    type=\"checkbox\"\r\n                    id=\"heart\"\r\n                    name=\"heart\"\r\n                    onChange={() => addToWishListHandler(data.data.data.id)}\r\n                  />\r\n                  <i className=\"fa fa-heart translate-middle-y mt-2\"></i>\r\n                </label>\r\n\r\n                <h2 className=\"fw-bold main-color\">{data.data.data.title}</h2>\r\n                <h4 className=\"text-muted mb-3 fw-normal fs-4\">\r\n                  {data.data.data.description}\r\n                </h4>\r\n                <h5 className=\"fs-5\">{data.data.data.category.name}</h5>\r\n                <h5 className=\"fs-5\">{data.data.data.brand.name}</h5>\r\n\r\n                <div className=\"d-flex justify-content-between align-items-baseline mt-3\">\r\n                  <h5 className=\"card-text fw-bold main-color\">\r\n                    {data.data.data.price} EGP\r\n                  </h5>\r\n                  <div className=\"rating d-flex align-items-baseline\">\r\n                    <i className=\"fa fa-star text-warning\"></i>\r\n                    <p className=\"ms-1 fs-6 fw-semibold\">\r\n                      {data.data.data.ratingsAverage}\r\n                    </p>\r\n                  </div>\r\n                </div>\r\n\r\n                <button\r\n                  onClick={() => addToCartHandler(id)}\r\n                  id=\"btn-main\"\r\n                  className={`btn btn-main w-100 mt-3 py-2 fw-semibold ${styles.cart}`}\r\n                >\r\n                  <i className={`fa fa-shopping-cart me-2`}></i>Add to cart\r\n                </button>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        )}\r\n      </section>\r\n    </>\r\n  );\r\n}\r\n"],"names":["ProductDetails","addToCart","useContext","CartContext","addToWishList","WishListContext","id","useParams","data","isLoading","isError","error","refetch","useQuery","async","axios","get","concat","refetchOnWindowFocus","_jsxs","_Fragment","children","_jsx","Loader","className","src","ErrorImg","alt","onClick","Link","to","styles","product","Helmet","charSet","title","name","content","slug","Slider","dots","infinite","speed","slidesToShow","slidesToScroll","arrows","autoplay","autoplaySpeed","cssEase","adaptiveHeight","images","map","img","heart","htmlFor","type","onChange","productId","res","status","toast","success","message","addToWishListHandler","description","category","brand","price","ratingsAverage","addToCartHandler","cart"],"sourceRoot":""}