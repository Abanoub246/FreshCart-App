"use strict";(self.webpackChunkfreshcartapp=self.webpackChunkfreshcartapp||[]).push([[331],{7331:(e,a,s)=>{s.r(a),s.d(a,{default:()=>u});var n=s(5043);const o={"main-color":"Login_main-color__vohs4","bg-main":"Login_bg-main__NIUPG",sectionBg:"Login_sectionBg__hdHsT","btn-main":"Login_btn-main__ilo0B",login:"Login_login__QMWFF",background:"Login_background__90JGU",inputContainer:"Login_inputContainer__qKDiO"};var i=s(3216),l=s(5475),r=s(3892),t=s(899),d=s(7154),c=s(1591),m=s(697),h=s(579);function u(){const[e,a]=(0,n.useState)(!1),[s,u]=(0,n.useState)(null),p=(0,i.Zp)(),{setToken:x}=(0,n.useContext)(m.c),g=t.Ik({email:t.Yj().email("Invalid email address").required("Please enter your email"),password:t.Yj().matches(/^[A-Z][A-Za-z0-9]{8,16}/,"Invalid Password").required("Please enter your password")});const f=(0,r.Wx)({initialValues:{email:"",password:""},validationSchema:g,onSubmit:e=>{!async function(e){a(!0),await d.A.post("https://ecommerce.routemisr.com/api/v1/auth/signin",e).then((e=>{"success"===e.data.message&&(a(!1),u(null),p("/"),x(e.data.token),localStorage.setItem("token",e.data.token))})).catch((e=>{a(!1),u(e.response.data.message)}))}(e)}});return(0,h.jsxs)(h.Fragment,{children:[(0,h.jsxs)(c.m,{children:[(0,h.jsx)("meta",{charSet:"utf-8"}),(0,h.jsx)("title",{children:"Login"})]}),(0,h.jsx)("section",{id:o.login,className:"min-vh-100 overflow-x-hidden",children:(0,h.jsxs)("div",{className:"row",children:[(0,h.jsx)("div",{className:"col-md-6"}),(0,h.jsx)("div",{id:o.background,className:"col-md-6 min-vh-100 pt-5 pb-4 rounded-start-5 shadow",children:(0,h.jsxs)("div",{className:"container pt-4 px-4",children:[(0,h.jsx)("h2",{className:"display-6 fw-bolder main-color mt-4 mb-2",children:"Hello, Welcome back!"}),(0,h.jsx)("h3",{className:"fw-bold mb-5",children:"Login to your account."}),(0,h.jsxs)("form",{onSubmit:f.handleSubmit,className:"form-group d-flex flex-column justify-content-center pt-2",children:[(0,h.jsxs)("div",{className:o.inputContainer,children:[(0,h.jsx)("input",{id:"email",name:"email",type:"email",autoComplete:"off",className:"form-control border-0 shadow-sm py-2 rounded-3",placeholder:"User Email",onChange:f.handleChange,value:f.values.email,onBlur:f.handleBlur}),(0,h.jsx)("label",{htmlFor:"email",children:"User Email"}),f.touched.email&&f.errors.email&&(0,h.jsxs)("span",{className:"text-danger",children:[(0,h.jsx)("i",{className:"fa-solid fa-circle-exclamation"})," ",f.errors.email]})]}),(0,h.jsxs)("div",{className:"mb-1 ".concat(o.inputContainer),children:[(0,h.jsx)("input",{id:"password",name:"password",type:"password",className:"form-control border-0 shadow-sm py-2 rounded-3",placeholder:"Password",onChange:f.handleChange,value:f.values.password,onBlur:f.handleBlur}),(0,h.jsx)("label",{htmlFor:"password",children:"Password"}),f.touched.password&&f.errors.password&&(0,h.jsxs)("span",{className:"text-danger",children:[(0,h.jsx)("i",{className:"fa-solid fa-circle-exclamation"})," ",f.errors.password]})]}),(0,h.jsx)(l.N_,{to:"/forget-password",className:"text-decoration-none main-color fw-semibold text-end mt-1",children:"forget your password?"}),(0,h.jsx)("button",{id:"btn-main",className:"btn mt-4 w-50 align-self-center rounded-3 shadow-sm",type:"submit",disabled:!(f.isValid&&f.dirty),children:e?(0,h.jsx)("i",{className:"fa-solid fa-spinner fa-spin-pulse"}):"Login"}),s&&(0,h.jsxs)("div",{className:"text-danger text-center mt-2",children:[(0,h.jsx)("i",{className:"fa-solid fa-circle-exclamation"})," ",s]}),(0,h.jsxs)("p",{className:"mt-2 text-center",children:["Don't have an account?"," ",(0,h.jsx)(l.N_,{to:"/register",className:"text-decoration-none main-color fw-semibold",children:"Sign Up"})]})]})]})})]})})]})}}}]);
//# sourceMappingURL=331.bf39493b.chunk.js.map