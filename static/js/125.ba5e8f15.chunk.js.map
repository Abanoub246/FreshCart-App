{"version":3,"file":"static/js/125.ba5e8f15.chunk.js","mappings":"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","sources":["webpack://freshcartapp/./src/Components/Cart/Cart.module.scss?cbc3","Components/Cart/Cart.jsx"],"sourcesContent":["// extracted by mini-css-extract-plugin\nexport default {\"main-color\":\"Cart_main-color__IW-eA\",\"bg-main\":\"Cart_bg-main__g1tdi\",\"sectionBg\":\"Cart_sectionBg__QtOH6\",\"btn-main\":\"Cart_btn-main__kn6MX\",\"cart\":\"Cart_cart__UogGm\",\"btnOutlineMain\":\"Cart_btnOutlineMain__NyIOZ\"};","import React, { useContext, useEffect, useState } from \"react\";\r\nimport { CartContext } from \"../../context/CartContext\";\r\nimport { Helmet } from \"react-helmet\";\r\nimport { toast } from \"react-toastify\";\r\nimport Loader from \"../Loader/Loader\";\r\nimport ErrorImg from \"../../assets/images/NoData.svg\";\r\nimport { Link } from \"react-router-dom\";\r\nimport styles from \"./Cart.module.scss\";\r\n\r\nexport default function Cart() {\r\n  const {\r\n    getCart,\r\n    numOfCartItems,\r\n    removeFromCart,\r\n    clearCart,\r\n    updateProductQuantity,\r\n  } = useContext(CartContext);\r\n\r\n  const [cartDetails, setCartDetails] = useState(null);\r\n  const [loading, setLoading] = useState(false);\r\n\r\n  async function getCartDetails() {\r\n    setLoading(true);\r\n\r\n    const res = await getCart();\r\n\r\n    if (res?.status === \"success\") {\r\n      setCartDetails(res);\r\n      setLoading(false);\r\n    } else {\r\n      setCartDetails(null);\r\n      setLoading(false);\r\n    }\r\n  }\r\n\r\n  useEffect(() => {\r\n    getCartDetails();\r\n  }, []);\r\n\r\n  async function removeProductFromCart(id) {\r\n    const res = await removeFromCart(id);\r\n    if (res.status === \"success\") {\r\n      toast.success(\"Product removed from cart successfully\");\r\n      setCartDetails(res);\r\n    } else {\r\n      toast.error(\"Sorry, Can't remove product from cart\");\r\n    }\r\n  }\r\n\r\n  async function updateProductQty(id, count) {\r\n    const res = await updateProductQuantity(id, count);\r\n    if (res.status === \"success\") {\r\n      toast.success(\"Product quantity updated successfully\");\r\n      setCartDetails(res);\r\n      // if (cartDetails.data.products.count === 0) {await removeFromCart(id)}\r\n    } else {\r\n      toast.error(\"Sorry, Can't update product quantity\");\r\n    }\r\n  }\r\n\r\n  async function removeAllProducts() {\r\n    const res = await clearCart();\r\n    setCartDetails(res);\r\n    if (res.message === \"success\") {\r\n      toast.success(\"All your products removed from cart successfully\");\r\n      setCartDetails(null);\r\n    } else {\r\n      toast.error(\"Sorry, Can't remove products from cart\");\r\n    }\r\n  }\r\n\r\n  return (\r\n    <>\r\n      <Helmet>\r\n        <meta charSet=\"utf-8\" />\r\n        <title>My Cart</title>\r\n        <meta name=\"description\" content=\"FreshCart App - My Cart\" />\r\n        <meta name=\"keywords\" content=\"Fresh-Cart-App-My-Cart\" />\r\n      </Helmet>\r\n\r\n      <section className={`${styles.cart} min-vh-100 pt-5`}>\r\n        {loading && <Loader />}\r\n\r\n        {cartDetails ? (\r\n          <div className=\"container-md my-5 bg-light rounded-3 shadow px-4 px-lg-5 py-5 d-flex flex-column\">\r\n            <div className=\"border-bottom mb-3 d-flex flex-column justify-content-center\">\r\n              <h2>Shopping Cart:</h2>\r\n              <div className=\"d-flex justify-content-between align-items-center\">\r\n                <h5 className=\"mt-3 mb-4\">\r\n                  Total Cart Price:{\" \"}\r\n                  <span className=\"main-color fw-bold\">\r\n                    {cartDetails.data.totalCartPrice} EGP\r\n                  </span>\r\n                </h5>\r\n                <h5 className=\"mt-3 mb-4\">\r\n                  Total Cart Items:{\" \"}\r\n                  <span className=\"main-color fw-bold\">{numOfCartItems}</span>\r\n                </h5>\r\n              </div>\r\n              <button\r\n                onClick={removeAllProducts}\r\n                className=\"btn btn-outline-danger rounded-3 w-25 mb-4\"\r\n              >\r\n                Clear Cart\r\n              </button>\r\n            </div>\r\n\r\n            {cartDetails.data.products.map((product) => (\r\n              <div\r\n                className=\"row border-bottom pb-3 mt-3 d-flex justify-content-center align-items-center\"\r\n                key={product.product.id}\r\n              >\r\n                <div className=\"col-lg-2 col-md-3 col-sm-4\">\r\n                  <figure className=\"mb-0\">\r\n                    <img\r\n                      src={product.product.imageCover}\r\n                      alt={product.product.title}\r\n                      className=\"img-fluid rounded-3\"\r\n                    />\r\n                  </figure>\r\n                </div>\r\n\r\n                <div className=\"col-lg-8 col-md-7 col-sm-6 ps-3 mt-3 mt-sm-0\">\r\n                  <h4 className=\"fw-semibold text-truncate\">\r\n                    {product.product.title}\r\n                  </h4>\r\n                  <h5 className=\"main-color fw-semibold\">\r\n                    {product.price} EGP\r\n                  </h5>\r\n                  <button\r\n                    className=\"btn p-0 fw-semibold text-danger\"\r\n                    onClick={() => removeProductFromCart(product.product.id)}\r\n                  >\r\n                    <i className=\"fa fa-trash-can me-2\"></i>remove\r\n                  </button>\r\n                </div>\r\n\r\n                <div className=\"col-2 d-flex justify-content-center align-items-center mt-3 mt-sm-0\">\r\n                  <button\r\n                    onClick={() => {\r\n                      updateProductQty(product.product.id, product.count - 1);\r\n                      product.count === 1 &&\r\n                        removeProductFromCart(product.product.id);\r\n                    }}\r\n                    className={`${styles.btnOutlineMain} btn px-3`}\r\n                  >\r\n                    <i className=\"fa fa-minus\"></i>\r\n                  </button>\r\n                  <h5 className=\"mx-3 mb-0\">{product.count}</h5>\r\n                  <button\r\n                    onClick={() =>\r\n                      updateProductQty(product.product.id, product.count + 1)\r\n                    }\r\n                    className={`${styles.btnOutlineMain} btn px-3`}\r\n                  >\r\n                    <i className=\"fa fa-plus\"></i>\r\n                  </button>\r\n                </div>\r\n              </div>\r\n            ))}\r\n\r\n            <Link\r\n              to=\"/checkout\"\r\n              id=\"btn-main\"\r\n              className=\"btn btn-main rounded-3 mt-3 w-25 align-self-end\"\r\n            >\r\n              Checkout\r\n            </Link>\r\n          </div>\r\n        ) : (\r\n          <div className=\"text-center pt-5\">\r\n            <figure className=\"mt-4\">\r\n              <img src={ErrorImg} className=\"w-50\" alt=\"Error\" />\r\n            </figure>\r\n            <h3 className=\"main-color\">\r\n              Cart is Empty, Please Add Some Products\r\n            </h3>\r\n\r\n            <Link\r\n              to=\"/products\"\r\n              id=\"btn-main\"\r\n              className=\"btn mt-3 py-2 w-25 rounded-3\"\r\n            >\r\n              Shop Now\r\n            </Link>\r\n          </div>\r\n        )}\r\n      </section>\r\n    </>\r\n  );\r\n}\r\n"],"names":["Cart","getCart","numOfCartItems","removeFromCart","clearCart","updateProductQuantity","useContext","CartContext","cartDetails","setCartDetails","useState","loading","setLoading","async","removeProductFromCart","id","res","status","toast","success","error","updateProductQty","count","useEffect","getCartDetails","_jsxs","_Fragment","children","Helmet","_jsx","charSet","name","content","className","concat","styles","cart","Loader","data","totalCartPrice","onClick","message","products","map","product","src","imageCover","alt","title","price","btnOutlineMain","Link","to","ErrorImg"],"sourceRoot":""}